# run tests manually in the Actions-tab of the project
name: Trigger Tests Manually
on:
  workflow_dispatch:
    # Inputs the workflow accepts.
    inputs:
      ENV:
        description: 'Set an ENV:'
        # Default value if no value is explicitly provided
        default: ta
        # Input has to be provided for the workflow to run
        required: true
      BROWSER:
        description: 'Set a BROWSER:'
        # Default value if no value is explicitly provided
        default: Chrome
        # Input has to be provided for the workflow to run
        required: true
      LANGUAGE:
        description: 'Set a LANGUAGE:'
        # Default value if no value is explicitly provided
        default: fr
        # Input has to be provided for the workflow to run
        required: true  

jobs:
  Agent:
    strategy:
      matrix:
        platform: [ubuntu-latest, macos-latest, windows-latest]
        python: ['3.7', '3.8', '3.9', '3.10', '3.11']
      fail-fast: false
    runs-on: ${{ matrix.platform }}
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python }}
      - run: pip install -r Libraries/pip_requirements.txt
      - name: Robot Framework
        run: robot --include ${{ matrix.platform }} AdminDemo.robot
